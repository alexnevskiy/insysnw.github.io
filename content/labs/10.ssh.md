+++
title = "Удалённый доступ"
template = "page.html"
[taxonomies]
categories = ["lab"]
+++

# [АХТУНГ!] Это черновик лабораторной

Вы этой работе мы:

* Получим доступ к персональной виртуальной машине
* Научимся решать типичные проблемы с доступом по SSH
* Попробуем проброс портов
* Познакомимся с терминами JumpHost и Bastion

и не только.

Эта лабораторная требует от обучающихся предварительной подготовки - [создание пары ssh ключей](@/labs/900.ssh-keygen.md) и передачу публичной части преподавателю.

IP адрес вам выдаст преподаватель.

Для доступа воспользуемся клиентом openssh:

```
ssh root@${IPv4Address} -i ~/.ssh/cnt
```
## Пишем конфиг

## Типичные проблемы

* Сломать - починить права.
* Сравнить host ключ сервера и known_host (обсудить форматы)
* Поменять ключ в known_hosts (причины поведения)

## Копирование файлов

[scp устарел](https://www.openssh.com/txt/release-8.0)

используем sftp, rsync

## proxy

Проверяем, с какого IP мы обращаемся.
Настраиваем браузер, curl.

Почему прокси плохо

## Тунелирование

Remote
Local

nginx config?
pgsql?

## Bastion

* ручками, запуская клиент на бастионе
* nc
* ProxyCommand
* ProxyJump

## Recap
Github / gitlab configs
